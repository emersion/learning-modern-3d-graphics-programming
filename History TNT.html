<html><head>


<script type="text/javascript" src="/static/js/analytics.js"></script>
<script type="text/javascript">archive_analytics.values.server_name="wwwb-app11.us.archive.org";archive_analytics.values.server_ms=211;</script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>


      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta http-equiv="X-UA-Compatible" content="IE=Edge"><title>Dynamite Combiners</title><link rel="stylesheet" href="chunked.css" type="text/css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="index.html" title="Learning Modern 3D Graphics Programming"><link rel="up" href="History of Graphics Hardware.html" title="Appendix&nbsp;B.&nbsp;History of PC Graphics Hardware"><link rel="prev" href="History of Graphics Hardware.html" title="Appendix&nbsp;B.&nbsp;History of PC Graphics Hardware"><link rel="next" href="History GeForce.html" title="Vertices and Registers"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">


<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">//<![CDATA[
var __wm = (function(){
var wbPrefix = "/web/";
var wbCurrentUrl = "http://www.arcsynthesis.org/gltut/History%20TNT.html";

var firstYear = 1996;
var imgWidth = 500,imgHeight = 27;
var yearImgWidth = 25,monthImgWidth = 2;
var displayDay = "25";
var displayMonth = "Feb";
var displayYear = "2015";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
var $D=document,$=function(n){return document.getElementById(n)};
var trackerVal,curYear = -1,curMonth = -1;
var yearTracker,monthTracker;
function showTrackers(val) {
  if (val===trackerVal) return;
  var $ipp=$("wm-ipp");
  var $y=$("displayYearEl"),$m=$("displayMonthEl"),$d=$("displayDayEl");
  if (val) {
    $ipp.className="hi";
  } else {
    $ipp.className="";
    $y.innerHTML=displayYear;$m.innerHTML=displayMonth;$d.innerHTML=displayDay;
  }
  yearTracker.style.display=val?"inline":"none";
  monthTracker.style.display=val?"inline":"none";
  trackerVal = val;
}
function getElementX2(obj) {
  var $e=jQuery(obj);
  return (typeof $e=="undefined"||typeof $e.offset=="undefined")?
    getElementX(obj):Math.round($e.offset().left);
}
function trackMouseMove(event,element) {
  var eventX = getEventX(event);
  var elementX = getElementX2(element);
  var xOff = Math.min(Math.max(0, eventX - elementX),imgWidth);
  var monthOff = xOff % yearImgWidth;

  var year = Math.floor(xOff / yearImgWidth);
  var monthOfYear = Math.min(11,Math.floor(monthOff / monthImgWidth));
  // 1 extra border pixel at the left edge of the year:
  var month = (year * 12) + monthOfYear;
  var day = monthOff % 2==1?15:1;
  var dateString = zeroPad(year + firstYear) + zeroPad(monthOfYear+1,2) +
    zeroPad(day,2) + "000000";

  $("displayYearEl").innerHTML=year+firstYear;
  $("displayMonthEl").innerHTML=prettyMonths[monthOfYear];
  // looks too jarring when it changes..
  //$("displayDayEl").innerHTML=zeroPad(day,2);
  var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
  $("wm-graph-anchor").href=url;

  if(curYear != year) {
    var yrOff = year * yearImgWidth;
    yearTracker.style.left = yrOff + "px";
    curYear = year;
  }
  if(curMonth != month) {
    var mtOff = year + (month * monthImgWidth) + 1;
    monthTracker.style.left = mtOff + "px";
    curMonth = month;
  }
}
function hideToolbar() {
  $("wm-ipp").style.display="none";
}
function bootstrap() {
  var $spk=$("wm-ipp-sparkline");
  yearTracker=$D.createElement('div');
  yearTracker.className='yt';
  with(yearTracker.style){
    display='none';width=yearImgWidth+"px";height=imgHeight+"px";
  }
  monthTracker=$D.createElement('div');
  monthTracker.className='mt';
  with(monthTracker.style){
    display='none';width=monthImgWidth+"px";height=imgHeight+"px";
  }
  $spk.appendChild(yearTracker);
  $spk.appendChild(monthTracker);

  var $ipp=$("wm-ipp");
  $ipp&&disclaimElement($ipp);
}
return{st:showTrackers,mv:trackMouseMove,h:hideToolbar,bt:bootstrap};
})();//]]>
</script>
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  min-width:800px !important;
}
</style>
<div id="wm-ipp" lang="en" style="display:none;">

<div style="position:fixed;left:0;top:0;width:100%!important">
<div id="wm-ipp-inside">
   <table style="width:100%;"><tbody><tr>
   <td id="wm-logo">
       <a href="/web/" title="Wayback Machine home page"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0" /></a>
   </td>
   <td class="c">
       <table style="margin:0 auto;"><tbody><tr>
       <td class="u" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="http://www.arcsynthesis.org/gltut/History%20TNT.html" style="width:400px;" onfocus="this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20150225192612" /><input type="submit" value="Go" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td class="n" rowspan="2">
           <table><tbody>
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr class="m">
           	<td class="b" nowrap="nowrap">
		
		    <a href="/web/20140813163618/http://www.arcsynthesis.org/gltut/History%20TNT.html" title="13 Aug 2014">AUG</a>
		
		</td>
		<td class="c" id="displayMonthEl" title="You are here: 19:26:12 Feb 25, 2015">FEB</td>
		<td class="f" nowrap="nowrap">
		
		    Mar
		
                </td>
	    </tr>
           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr class="d">
               <td class="b" nowrap="nowrap">
               
                   <a href="/web/20140813163618/http://www.arcsynthesis.org/gltut/History%20TNT.html" title="16:36:18 Aug 13, 2014"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
               
               </td>
               <td class="c" id="displayDayEl" style="width:34px;font-size:24px;" title="You are here: 19:26:12 Feb 25, 2015">25</td>
	       <td class="f" nowrap="nowrap">
               
                   <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
               
	       </td>
           </tr>
           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr class="y">
	       <td class="b" nowrap="nowrap">
               
                   <a href="/web/20131205183923/http://www.arcsynthesis.org/gltut/History%20TNT.html" title="5 Dec 2013"><strong>2013</strong></a>
               
               </td>
               <td class="c" id="displayYearEl" title="You are here: 19:26:12 Feb 25, 2015">2015</td>
	       <td class="f" nowrap="nowrap">
               
                   2016
               
	       </td>
           </tr>
           </tbody></table>
       </td>
       </tr>
       <tr>
       <td class="s">
           <a class="t" href="/web/20150225192612*/http://www.arcsynthesis.org/gltut/History%20TNT.html" title="See a list of every capture for this URL">31 captures</a>
           <div class="r" title="Timespan for captures of this URL">13 May 11 - 25 Feb 15</div>
       </td>
       <td class="k">
       <a href="" id="wm-graph-anchor">
       <div id="wm-ipp-sparkline" title="Explore captures for this URL">
	 <img id="sparklineImgId" alt="sparklines"
		 onmouseover="__wm.st(1)" onmouseout="__wm.st(0)"
		 onmousemove="__wm.mv(event,this)"
		 width="500"
		 height="27"
		 border="0"
		 src="/web/jsp/graph.jsp?graphdata=500_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000000000000_2008:-1:000000000000_2009:-1:000000000000_2010:-1:000000000000_2011:-1:000010111021_2012:-1:210021100031_2013:-1:101001211111_2014:-1:000100010000_2015:1:010000000000" />
       </div>
       </a>
       </td>
       </tr></tbody></table>
   </td>
   <td class="r">
       <a href="#close" onclick="__wm.h();return false;" style="background-image:url(/static/images/toolbar/wm_tb_close.png);top:5px;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="background-image:url(/static/images/toolbar/wm_tb_help.png);bottom:5px;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>
</div>
</div>
</div>
<script type="text/javascript">__wm.bt();</script>
<!-- END WAYBACK TOOLBAR INSERT -->
<div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Dynamite Combiners</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="History of Graphics Hardware.html">Prev</a>&nbsp;</td><th width="60%" align="center">Appendix&nbsp;B.&nbsp;History of PC Graphics Hardware</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="History GeForce.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e16843"></a>Dynamite Combiners</h2></div></div></div><p>The next phase of hardware came, not from 3Dfx, but from a new company, NVIDIA. While
            3Dfx's Voodoo II was much more popular than NVIDIA's product, the NVIDIA Riva TNT
            (released in 1998) was more interesting in terms of what it brought to the table for
            programmers. Voodoo II was purely a performance improvement; TNT was the next step in
            the evolution of graphics hardware.</p><p>Like other graphics cards of the day, the TNT hardware had no vertex processing.
            Vertex data was in clip-space, as normal, so the CPU had to do all of the transformation
            and lighting. Where the TNT shone was in its fragment processing. The power of the TNT
            is in it's name; TNT stands for <acronym class="acronym">T</acronym>wi<acronym class="acronym">N</acronym>
            <acronym class="acronym">T</acronym>exel. It could access from two textures at once. And while the
            Voodoo II could do that as well, the TNT had much more flexibility to its fragment
            processing pipeline.</p><p>In order to accomidate two textures, the vertex input was expanded. Two textures meant
            two texture coordinates, since each texture coordinate was directly bound to a
            particular texture. While they were allowing two of things, NVIDIA also allowed for two
            per-vertex colors. The idea here has to do with lighting equations.</p><p>For regular diffuse lighting, the CPU-computed color would simply be dot(N, L),
            possibly with attenuation applied. Indeed, it could be any complicated diffuse lighting
            function, since it was all on the CPU. This diffuse light intensity would be multiplied
            by the texture, which represented the diffuse absorption of the surface at that
            point.</p><p>This becomes less useful if you want to add a specular term. The specular absorption
            and diffuse absorption are not necessarily the same, after all. And while you may not
            need to have a specular texture, you do not want to add the specular component to the
            diffuse component <span class="emphasis"><em>before</em></span> you multiply by their respective colors.
            You want to do the addition afterwards.</p><p>This is simply not possible if you have only one per-vertex color. But it becomes
            possible if you have two. One color is the diffuse lighting value. The other color is
            the specular component. We multiply the first color by the diffuse color from the
            texture, then add the second color as the specular reflectance.</p><p>Which brings us nicely to fragment processing. The TNT's fragment processor had 5
            inputs: 2 colors sampled from textures, 2 colors interpolated from vertices, and a
            single <span class="quote">&#8220;<span class="quote">constant</span>&#8221;</span> color. The latter, in modern parlance, is the equivalent
            of a shader uniform value.</p><p>That's a lot of potential inputs. The solution NVIDIA came up with to produce a final
            color was a bit of fixed functionality that we will call the texture environment. It is
            directly analogous to the OpenGL 1.1 fixed-function pipeline, but with extensions for
            multiple textures and some TNT-specific features.</p><p>The idea is that each texture has an environment. The environment is a specific math
            function, such as addition, subtraction, multiplication, and linear interpolation. The
            operands to this function could be taken from any of the fragment inputs, as well as a
            constant zero color value.</p><p>It can also use the result from the previous environment as one of its arguments.
            Textures and environments are numbered, from zero to one (two textures, two
            environments). The first one executes, followed by the second.</p><p>If you look at it from a hardware perspective, what you have is a two-opcode assembly
            language. The available registers for the language are two vertex colors, a single
            uniform color, two texture colors, and a zero register. There is also a single temporary
            register to hold the output from the first opcode.</p><p>Graphics programmers, by this point, had gotten used to multipass-based algorithms.
            After all, until TNT, that was the only way to apply multiple textures to a single
            surface. And even with TNT, it had a pretty confining limit of two textures and two
            opcodes.</p><p>This was powerful, but quite limited. Two opcodes really was not enough.</p><p>The TNT cards also provided something else: 32-bit framebuffers and depth buffers.
            While the Voodoo cards used high-precision math internally, they still wrote to 16-bit
            framebuffers, using a technique called dithering to make them look like higher
            precision. But dithering was nothing compared to actual high precision framebuffers. And
            it did nothing for the depth buffer artifacts that a 16-bit depth buffer gave
            you.</p><p>While the original TNT could do 32-bit, it lacked the memory and overall performance
            to really show it off. That had to wait for the TNT2. Combined with product delays and
            some poor strategic moves by 3Dfx, NVIDIA became one of the dominant players in the
            consumer PC graphics card market. And that was cemented by their next card, which had
            real power behind it.</p><div class="sidebar"><p class="title"><b>Tile-Based Rendering</b></p><p>While all of this was going on, a small company called PowerVR released its Series
                2 graphics chip. PowerVR's approach to rendering was fundamentally different from
                the standard rendering pipeline.</p><p>They used what they called a <span class="quote">&#8220;<span class="quote">deferred, tile-based renderer.</span>&#8221;</span> The
                idea is that they store all of the clip-space triangles in a buffer. Then, they sort
                this buffer based on which triangles cover which areas of the screen. The output
                screen is divided into a number of tiles of a fixed size. Say, 8x8 in size.</p><p>For each tile, the hardware finds the triangles that are within that tile's area.
                Then it does all the usual scan conversion tricks and so forth. It even
                automatically does per-pixel depth sorting for blending, which remains something of
                a selling point (no more having to manually sort blended objects). After rendering
                that tile, it moves on to the next. These operations can of course be executed in
                parallel; you can have multiple tiles being rasterized at the same time.</p><p>The idea behind this is to avoid having large image buffers. You only need a few
                8x8 depth buffers, so you can use very fast, on-chip memory for it. Rather than
                having to deal with caches, DRAM, and large bandwidth memory channels, you just have
                a small block of memory where you do all of your logic. You still need memory for
                textures and the output image, but your bandwidth needs can be devoted solely to
                textures.</p><p>For a time, these cards were competitive with the other graphics chip makers.
                However, the tile-based approach simply did not scale well with resolution or
                geometry complexity. Also, they missed the geometry processing bandwagon, which
                really hurt their standing. They fell farther and farther behind the other major
                players, until they stopped making desktop parts altogether.</p><p>However, they may ultimately have the last laugh; unlike 3Dfx and so many others,
                PowerVR still exists. They provided the GPU for the Sega Dreamcast console. And
                while that console was a market failure, it did show where PowerVR's true strength
                lay: embedded platforms.</p><p>Embedded platforms tend to play to their tile-based renderer's strengths. Memory,
                particularly high-bandwidth memory, eats up power; having less memory means
                longer-lasting mobile devices. Embedded devices tend to use smaller resolutions,
                which their platform excels at. And with low resolutions, you are not trying to push
                nearly as much geometry.</p><p>Thanks to these facts, PowerVR graphics chips power the vast majority of mobile
                platforms that have any 3D rendering in them. Just about every iPhone, Droid, iPad,
                or similar device is running PowerVR technology. And that's a growth market these
                days.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="History of Graphics Hardware.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="History of Graphics Hardware.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="History GeForce.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Appendix&nbsp;B.&nbsp;History of PC Graphics Hardware&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Vertices and Registers</td></tr></table></div></body></html>




<!--
     FILE ARCHIVED ON 19:26:12 Feb 25, 2015 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 19:08:54 Mar 29, 2015.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
